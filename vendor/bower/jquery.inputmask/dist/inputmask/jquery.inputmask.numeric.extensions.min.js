/*!
* jquery.inputmask.numeric.extensions.js
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2015 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.1.63
*/
;!function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.inputmask"],a):"object"==typeof exports?module.exports=a(require("jquery"),require("./jquery.inputmask")):a(jQuery)}(function(a){return a.extend(a.inputmask.defaults.aliases,{numeric:{mask:function(d){function f(g){for(var h="",j=0;j<g.length;j++){h+=d.definitions[g[j]]?"\\"+g[j]:g[j]}return h}if(0!==d.repeat&&isNaN(d.integerDigits)&&(d.integerDigits=d.repeat),d.repeat=0,d.groupSeparator==d.radixPoint&&("."==d.radixPoint?d.groupSeparator=",":","==d.radixPoint?d.groupSeparator=".":d.groupSeparator="")," "===d.groupSeparator&&(d.skipOptionalPartCharacter=void 0),d.autoGroup=d.autoGroup&&""!=d.groupSeparator,d.autoGroup&&("string"==typeof d.groupSize&&isFinite(d.groupSize)&&(d.groupSize=parseInt(d.groupSize)),isFinite(d.integerDigits))){var e=Math.floor(d.integerDigits/d.groupSize),c=d.integerDigits%d.groupSize;d.integerDigits=parseInt(d.integerDigits)+(0==c?e-1:e)}d.placeholder.length>1&&(d.placeholder=d.placeholder.charAt(0)),d.radixFocus=d.radixFocus&&"0"==d.placeholder,d.definitions[";"]=d.definitions["~"];var b=f(d.prefix);return b+="[+]",b+="~{1,"+d.integerDigits+"}",void 0!=d.digits&&(isNaN(d.digits)||parseInt(d.digits)>0)&&(b+=d.digitsOptional?"["+(d.decimalProtect?":":d.radixPoint)+";{"+d.digits+"}]":(d.decimalProtect?":":d.radixPoint)+";{"+d.digits+"}"),""!=d.negationSymbol.back&&(b+="[-]"),b+=f(d.suffix),d.greedy=!1,b},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(m,r,e,b){var s=!1;m.length>=b.suffix.length&&m.join("").indexOf(b.suffix)==m.length-b.suffix.length&&(m.length=m.length-b.suffix.length,s=!0),r=r>=m.length?m.length-1:r<b.prefix.length?b.prefix.length:r;var k=!1,p=m[r];if(""==b.groupSeparator||-1!=a.inArray(b.radixPoint,m)&&r>=a.inArray(b.radixPoint,m)||new RegExp("["+a.inputmask.escapeRegex(b.negationSymbol.front)+"+]").test(p)){if(s){for(var n=0,f=b.suffix.length;f>n;n++){m.push(b.suffix.charAt(n))}}return{pos:r}}var h=m.slice();p==b.groupSeparator&&(h.splice(r--,1),p=h[r]),e?h[r]="?":h.splice(r,0,"?");var o=h.join(""),g=o;if(o.length>0&&b.autoGroup||e&&-1!=o.indexOf(b.groupSeparator)){var j=a.inputmask.escapeRegex(b.groupSeparator);k=0==o.indexOf(b.groupSeparator),o=o.replace(new RegExp(j,"g"),"");var d=o.split(b.radixPoint);if(o=""==b.radixPoint?o:d[0],o!=b.prefix+"?0"&&o.length>=b.groupSize+b.prefix.length){for(var c=new RegExp("([-+]?[\\d?]+)([\\d?]{"+b.groupSize+"})");c.test(o);){o=o.replace(c,"$1"+b.groupSeparator+"$2"),o=o.replace(b.groupSeparator+b.groupSeparator,b.groupSeparator)}}""!=b.radixPoint&&d.length>1&&(o+=b.radixPoint+d[1])}k=g!=o,m.length=o.length;for(var n=0,f=o.length;f>n;n++){m[n]=o.charAt(n)}var q=a.inArray("?",m);if(e?m[q]=p:m.splice(q,1),!k&&s){for(var n=0,f=b.suffix.length;f>n;n++){m.push(b.suffix.charAt(n))}}return{pos:q,refreshFromBuffer:k,buffer:m}},onBeforeWrite:function(m,h,l,d){if(m&&"blur"==m.type){var c=h.join(""),o=c.replace(d.prefix,"");if(o=o.replace(d.suffix,""),o=o.replace(new RegExp(a.inputmask.escapeRegex(d.groupSeparator),"g"),""),","===d.radixPoint&&(o=o.replace(a.inputmask.escapeRegex(d.radixPoint),".")),isFinite(o)&&isFinite(d.min)&&parseFloat(o)<parseFloat(d.min)){return a.extend(!0,{refreshFromBuffer:!0,buffer:(d.prefix+d.min).split("")},d.postFormat((d.prefix+d.min).split(""),0,!0,d))}var g=""!=d.radixPoint?h.join("").split(d.radixPoint):[h.join("")],f=g[0].match(d.regex.integerPart(d)),b=2==g.length?g[1].match(d.regex.integerNPart(d)):void 0;!f||f[0]!=d.negationSymbol.front+"0"&&f[0]!=d.negationSymbol.front&&"+"!=f[0]||void 0!=b&&!b[0].match(/^0+$/)||h.splice(f.index,1);var k=a.inArray(d.radixPoint,h);if(-1!=k&&isFinite(d.digits)&&!d.digitsOptional){for(var j=1;j<=d.digits;j++){(void 0==h[k+j]||h[k+j]==d.placeholder.charAt(0))&&(h[k+j]="0")}return{refreshFromBuffer:!0,buffer:h}}}if(d.autoGroup){var n=d.postFormat(h,l-1,!0,d);return n.caret=l<=d.prefix.length?n.pos:n.pos+1,n}},regex:{integerPart:function(b){return new RegExp("["+a.inputmask.escapeRegex(b.negationSymbol.front)+"+]?\\d+")},integerNPart:function(b){return new RegExp("[\\d"+a.inputmask.escapeRegex(b.groupSeparator)+"]+")}},signHandler:function(c,f,g,b,e){if(!b&&e.allowMinus&&"-"===c||e.allowPlus&&"+"===c){var d=f.buffer.join("").match(e.regex.integerPart(e));if(d&&d[0].length>0){return f.buffer[d.index]==("-"===c?"+":e.negationSymbol.front)?"-"==c?""!=e.negationSymbol.back?{pos:d.index,c:e.negationSymbol.front,remove:d.index,caret:g,insert:{pos:f.buffer.length-e.suffix.length-1,c:e.negationSymbol.back}}:{pos:d.index,c:e.negationSymbol.front,remove:d.index,caret:g}:""!=e.negationSymbol.back?{pos:d.index,c:"+",remove:[d.index,f.buffer.length-e.suffix.length-1],caret:g}:{pos:d.index,c:"+",remove:d.index,caret:g}:f.buffer[d.index]==("-"===c?e.negationSymbol.front:"+")?"-"==c&&""!=e.negationSymbol.back?{remove:[d.index,f.buffer.length-e.suffix.length-1],caret:g-1}:{remove:d.index,caret:g-1}:"-"==c?""!=e.negationSymbol.back?{pos:d.index,c:e.negationSymbol.front,caret:g+1,insert:{pos:f.buffer.length-e.suffix.length,c:e.negationSymbol.back}}:{pos:d.index,c:e.negationSymbol.front,caret:g+1}:{pos:d.index,c:c,caret:g+1}}}return !1},radixHandler:function(e,g,h,c,f){if(!c&&e===f.radixPoint&&f.digits>0){var b=a.inArray(f.radixPoint,g.buffer),d=g.buffer.join("").match(f.regex.integerPart(f));if(-1!=b&&g.validPositions[b]){return g.validPositions[b-1]?{caret:b+1}:{pos:d.index,c:d[0],caret:b+1}}if(!d||"0"==d[0]&&d.index+1!=h){return g.buffer[d?d.index:h]="0",{pos:(d?d.index:h)+1}}}return !1},leadingZeroHandler:function(f,k,h,j,c){var d=k.buffer.join("").match(c.regex.integerNPart(c)),g=a.inArray(c.radixPoint,k.buffer);if(d&&!j&&(-1==g||g>=h)){if(0==d[0].indexOf("0")){h<c.prefix.length&&(h=d.index);var i=a.inArray(c.radixPoint,k._buffer),e=k._buffer&&k.buffer.slice(g).join("")==k._buffer.slice(i).join("")||0==parseInt(k.buffer.slice(g+1).join("")),b=k._buffer&&k.buffer.slice(d.index,g).join("")==k._buffer.slice(c.prefix.length,i).join("")||"0"==k.buffer.slice(d.index,g).join("");if(-1==g||e&&b){return k.buffer.splice(d.index,1),h=h>d.index?h-1:d.index,{pos:h,remove:d.index}}if(d.index+1==h||"0"==f){return k.buffer.splice(d.index,1),h=d.index,{pos:h,remove:d.index}}}else{if("0"===f&&h<=d.index&&d[0]!=c.groupSeparator){return !1}}}return !0},postValidation:function(b,d){var f=!0,e=b.join(""),c=e.replace(d.prefix,"");return c=c.replace(d.suffix,""),c=c.replace(new RegExp(a.inputmask.escapeRegex(d.groupSeparator),"g"),""),","===d.radixPoint&&(c=c.replace(a.inputmask.escapeRegex(d.radixPoint),".")),c=c.replace(new RegExp("^"+a.inputmask.escapeRegex(d.negationSymbol.front)),"-"),c=c.replace(new RegExp(a.inputmask.escapeRegex(d.negationSymbol.back)+"$"),""),isFinite(c)&&isFinite(d.max)&&(f=parseFloat(c)<=parseFloat(d.max)),f},definitions:{"~":{validator:function(c,g,h,b,d){var f=d.signHandler(c,g,h,b,d);if(!f&&(f=d.radixHandler(c,g,h,b,d),!f&&(f=b?new RegExp("[0-9"+a.inputmask.escapeRegex(d.groupSeparator)+"]").test(c):new RegExp("[0-9]").test(c),f===!0&&(f=d.leadingZeroHandler(c,g,h,b,d),f===!0)))){var e=a.inArray(d.radixPoint,g.buffer);f=d.digitsOptional===!1&&h>e&&!b?{pos:h,remove:h}:{pos:h}}return f},cardinality:1,prevalidator:null},"+":{validator:function(c,f,g,b,d){var e=d.signHandler(c,f,g,b,d);return !e&&(b&&d.allowMinus&&c===d.negationSymbol.front||d.allowMinus&&"-"==c||d.allowPlus&&"+"==c)&&(e="-"==c?""!=d.negationSymbol.back?{pos:g,c:"-"===c?d.negationSymbol.front:"+",caret:g+1,insert:{pos:f.buffer.length,c:d.negationSymbol.back}}:{pos:g,c:"-"===c?d.negationSymbol.front:"+",caret:g+1}:!0),e},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(c,f,g,b,d){var e=d.signHandler(c,f,g,b,d);return !e&&b&&d.allowMinus&&c===d.negationSymbol.back&&(e=!0),e},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(c,g,h,b,e){var f=e.signHandler(c,g,h,b,e);if(!f){var d="["+a.inputmask.escapeRegex(e.radixPoint)+"]";f=new RegExp(d).test(c),f&&g.validPositions[h]&&g.validPositions[h].match.placeholder==e.radixPoint&&(f={caret:h+1})}return f},cardinality:1,prevalidator:null,placeholder:function(b){return b.radixPoint}}},insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,onUnMask:function(e,b,d){var c=e.replace(d.prefix,"");return c=c.replace(d.suffix,""),c=c.replace(new RegExp(a.inputmask.escapeRegex(d.groupSeparator),"g"),""),d.unmaskAsNumber?(c=c.replace(a.inputmask.escapeRegex.call(this,d.radixPoint),"."),Number(c)):c},isComplete:function(c,e){var f=c.join(""),b=c.slice();if(e.postFormat(b,0,!0,e),b.join("")!=f){return !1}var d=f.replace(e.prefix,"");return d=d.replace(e.suffix,""),d=d.replace(new RegExp(a.inputmask.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(d=d.replace(a.inputmask.escapeRegex(e.radixPoint),".")),isFinite(d)},onBeforeMask:function(c,d){if(""!=d.radixPoint&&isFinite(c)){c=c.toString().replace(".",d.radixPoint)}else{var b=c.match(/,/g),e=c.match(/\./g);e&&b?e.length>b.length?(c=c.replace(/\./g,""),c=c.replace(",",d.radixPoint)):b.length>e.length?(c=c.replace(/,/g,""),c=c.replace(".",d.radixPoint)):c=c.indexOf(".")<c.indexOf(",")?c.replace(/\./g,""):c=c.replace(/,/g,""):c=c.replace(new RegExp(a.inputmask.escapeRegex(d.groupSeparator),"g"),"")}return 0==d.digits&&(-1!=c.indexOf(".")?c=c.substring(0,c.indexOf(".")):-1!=c.indexOf(",")&&(c=c.substring(0,c.indexOf(",")))),c},canClearPosition:function(o,i,j,n,d){var l=o.validPositions[i].input,m=l!=d.radixPoint&&isFinite(l)||i==j||l==d.groupSeparator||l==d.negationSymbol.front||l==d.negationSymbol.back;if(m&&isFinite(l)){var e;if(!n&&o.buffer){e=o.buffer.join("").substr(0,i).match(d.regex.integerNPart(d));var k=i+1,c=null==e||0==parseInt(e[0].replace(new RegExp(a.inputmask.escapeRegex(d.groupSeparator),"g"),""));if(c){for(;o.validPositions[k]&&(o.validPositions[k].input==d.groupSeparator||"0"==o.validPositions[k].input);){delete o.validPositions[k],k++}}}var g=[];for(var f in o.validPositions){g.push(o.validPositions[f].input)}e=g.join("").match(d.regex.integerNPart(d));var h=a.inArray(d.radixPoint,o.buffer);if(e&&(-1==h||h>=i)){if(0==e[0].indexOf("0")){m=e.index!=i||-1==h}else{var b=parseInt(e[0].replace(new RegExp(a.inputmask.escapeRegex(d.groupSeparator),"g"),""));-1!=h&&10>b&&"0"==d.placeholder.charAt(0)&&(o.validPositions[i].input="0",o.p=d.prefix.length+1,m=!1)}}}return m}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),a.fn.inputmask});