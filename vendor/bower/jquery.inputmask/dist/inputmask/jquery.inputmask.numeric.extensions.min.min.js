/*!
* jquery.inputmask.numeric.extensions.js
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2015 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.1.63
*/
;!function(b){"function"==typeof define&&define.amd?define(["jquery","./jquery.inputmask"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("./jquery.inputmask")):b(jQuery)}(function(b){return b.extend(b.inputmask.defaults.aliases,{numeric:{mask:function(i){function g(e){for(var d="",c=0;c<e.length;c++){d+=i.definitions[e[c]]?"\\"+e[c]:e[c]}return d}if(0!==i.repeat&&isNaN(i.integerDigits)&&(i.integerDigits=i.repeat),i.repeat=0,i.groupSeparator==i.radixPoint&&("."==i.radixPoint?i.groupSeparator=",":","==i.radixPoint?i.groupSeparator=".":i.groupSeparator="")," "===i.groupSeparator&&(i.skipOptionalPartCharacter=void 0),i.autoGroup=i.autoGroup&&""!=i.groupSeparator,i.autoGroup&&("string"==typeof i.groupSize&&isFinite(i.groupSize)&&(i.groupSize=parseInt(i.groupSize)),isFinite(i.integerDigits))){var h=Math.floor(i.integerDigits/i.groupSize),j=i.integerDigits%i.groupSize;i.integerDigits=parseInt(i.integerDigits)+(0==j?h-1:h)}i.placeholder.length>1&&(i.placeholder=i.placeholder.charAt(0)),i.radixFocus=i.radixFocus&&"0"==i.placeholder,i.definitions[";"]=i.definitions["~"];var a=g(i.prefix);return a+="[+]",a+="~{1,"+i.integerDigits+"}",void 0!=i.digits&&(isNaN(i.digits)||parseInt(i.digits)>0)&&(a+=i.digitsOptional?"["+(i.decimalProtect?":":i.radixPoint)+";{"+i.digits+"}]":(i.decimalProtect?":":i.radixPoint)+";{"+i.digits+"}"),""!=i.negationSymbol.back&&(a+="[-]"),a+=g(i.suffix),i.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(v,a,B,E){var F=!1;v.length>=E.suffix.length&&v.join("").indexOf(E.suffix)==v.length-E.suffix.length&&(v.length=v.length-E.suffix.length,F=!0),a=a>=v.length?v.length-1:a<E.prefix.length?E.prefix.length:a;var w=!1,l=v[a];if(""==E.groupSeparator||-1!=b.inArray(E.radixPoint,v)&&a>=b.inArray(E.radixPoint,v)||new RegExp("["+b.inputmask.escapeRegex(E.negationSymbol.front)+"+]").test(l)){if(F){for(var u=0,A=E.suffix.length;A>u;u++){v.push(E.suffix.charAt(u))}}return{pos:a}}var y=v.slice();l==E.groupSeparator&&(y.splice(a--,1),l=y[a]),B?y[a]="?":y.splice(a,0,"?");var t=y.join(""),z=t;if(t.length>0&&E.autoGroup||B&&-1!=t.indexOf(E.groupSeparator)){var x=b.inputmask.escapeRegex(E.groupSeparator);w=0==t.indexOf(E.groupSeparator),t=t.replace(new RegExp(x,"g"),"");var C=t.split(E.radixPoint);if(t=""==E.radixPoint?t:C[0],t!=E.prefix+"?0"&&t.length>=E.groupSize+E.prefix.length){for(var D=new RegExp("([-+]?[\\d?]+)([\\d?]{"+E.groupSize+"})");D.test(t);){t=t.replace(D,"$1"+E.groupSeparator+"$2"),t=t.replace(E.groupSeparator+E.groupSeparator,E.groupSeparator)}}""!=E.radixPoint&&C.length>1&&(t+=E.radixPoint+C[1])}w=z!=t,v.length=t.length;for(var u=0,A=t.length;A>u;u++){v[u]=t.charAt(u)}var i=b.inArray("?",v);if(B?v[i]=l:v.splice(i,1),!w&&F){for(var u=0,A=E.suffix.length;A>u;u++){v.push(E.suffix.charAt(u))}}return{pos:i,refreshFromBuffer:w,buffer:v}},onBeforeWrite:function(i,s,p,v){if(i&&"blur"==i.type){var w=s.join(""),a=w.replace(v.prefix,"");if(a=a.replace(v.suffix,""),a=a.replace(new RegExp(b.inputmask.escapeRegex(v.groupSeparator),"g"),""),","===v.radixPoint&&(a=a.replace(b.inputmask.escapeRegex(v.radixPoint),".")),isFinite(a)&&isFinite(v.min)&&parseFloat(a)<parseFloat(v.min)){return b.extend(!0,{refreshFromBuffer:!0,buffer:(v.prefix+v.min).split("")},v.postFormat((v.prefix+v.min).split(""),0,!0,v))}var t=""!=v.radixPoint?s.join("").split(v.radixPoint):[s.join("")],u=t[0].match(v.regex.integerPart(v)),x=2==t.length?t[1].match(v.regex.integerNPart(v)):void 0;!u||u[0]!=v.negationSymbol.front+"0"&&u[0]!=v.negationSymbol.front&&"+"!=u[0]||void 0!=x&&!x[0].match(/^0+$/)||s.splice(u.index,1);var q=b.inArray(v.radixPoint,s);if(-1!=q&&isFinite(v.digits)&&!v.digitsOptional){for(var r=1;r<=v.digits;r++){(void 0==s[q+r]||s[q+r]==v.placeholder.charAt(0))&&(s[q+r]="0")}return{refreshFromBuffer:!0,buffer:s}}}if(v.autoGroup){var e=v.postFormat(s,p-1,!0,v);return e.caret=p<=v.prefix.length?e.pos:e.pos+1,e}},regex:{integerPart:function(a){return new RegExp("["+b.inputmask.escapeRegex(a.negationSymbol.front)+"+]?\\d+")},integerNPart:function(a){return new RegExp("[\\d"+b.inputmask.escapeRegex(a.groupSeparator)+"]+")}},signHandler:function(l,i,h,a,j){if(!a&&j.allowMinus&&"-"===l||j.allowPlus&&"+"===l){var k=i.buffer.join("").match(j.regex.integerPart(j));if(k&&k[0].length>0){return i.buffer[k.index]==("-"===l?"+":j.negationSymbol.front)?"-"==l?""!=j.negationSymbol.back?{pos:k.index,c:j.negationSymbol.front,remove:k.index,caret:h,insert:{pos:i.buffer.length-j.suffix.length-1,c:j.negationSymbol.back}}:{pos:k.index,c:j.negationSymbol.front,remove:k.index,caret:h}:""!=j.negationSymbol.back?{pos:k.index,c:"+",remove:[k.index,i.buffer.length-j.suffix.length-1],caret:h}:{pos:k.index,c:"+",remove:k.index,caret:h}:i.buffer[k.index]==("-"===l?j.negationSymbol.front:"+")?"-"==l&&""!=j.negationSymbol.back?{remove:[k.index,i.buffer.length-j.suffix.length-1],caret:h-1}:{remove:k.index,caret:h-1}:"-"==l?""!=j.negationSymbol.back?{pos:k.index,c:j.negationSymbol.front,caret:h+1,insert:{pos:i.buffer.length-j.suffix.length,c:j.negationSymbol.back}}:{pos:k.index,c:j.negationSymbol.front,caret:h+1}:{pos:k.index,c:l,caret:h+1}}}return !1},radixHandler:function(l,j,i,n,k){if(!n&&l===k.radixPoint&&k.digits>0){var a=b.inArray(k.radixPoint,j.buffer),m=j.buffer.join("").match(k.regex.integerPart(k));if(-1!=a&&j.validPositions[a]){return j.validPositions[a-1]?{caret:a+1}:{pos:m.index,c:m[0],caret:a+1}}if(!m||"0"==m[0]&&m.index+1!=i){return j.buffer[m?m.index:i]="0",{pos:(m?m.index:i)+1}}}return !1},leadingZeroHandler:function(p,a,n,l,s){var r=a.buffer.join("").match(s.regex.integerNPart(s)),o=b.inArray(s.radixPoint,a.buffer);if(r&&!l&&(-1==o||o>=n)){if(0==r[0].indexOf("0")){n<s.prefix.length&&(n=r.index);var m=b.inArray(s.radixPoint,a._buffer),q=a._buffer&&a.buffer.slice(o).join("")==a._buffer.slice(m).join("")||0==parseInt(a.buffer.slice(o+1).join("")),t=a._buffer&&a.buffer.slice(r.index,o).join("")==a._buffer.slice(s.prefix.length,m).join("")||"0"==a.buffer.slice(r.index,o).join("");if(-1==o||q&&t){return a.buffer.splice(r.index,1),n=n>r.index?n-1:r.index,{pos:n,remove:r.index}}if(r.index+1==n||"0"==p){return a.buffer.splice(r.index,1),n=r.index,{pos:n,remove:r.index}}}else{if("0"===p&&n<=r.index&&r[0]!=s.groupSeparator){return !1}}}return !0},postValidation:function(a,i){var g=!0,h=a.join(""),j=h.replace(i.prefix,"");return j=j.replace(i.suffix,""),j=j.replace(new RegExp(b.inputmask.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(j=j.replace(b.inputmask.escapeRegex(i.radixPoint),".")),j=j.replace(new RegExp("^"+b.inputmask.escapeRegex(i.negationSymbol.front)),"-"),j=j.replace(new RegExp(b.inputmask.escapeRegex(i.negationSymbol.back)+"$"),""),isFinite(j)&&isFinite(i.max)&&(g=parseFloat(j)<=parseFloat(i.max)),g},definitions:{"~":{validator:function(n,j,i,a,m){var k=m.signHandler(n,j,i,a,m);if(!k&&(k=m.radixHandler(n,j,i,a,m),!k&&(k=a?new RegExp("[0-9"+b.inputmask.escapeRegex(m.groupSeparator)+"]").test(n):new RegExp("[0-9]").test(n),k===!0&&(k=m.leadingZeroHandler(n,j,i,a,m),k===!0)))){var l=b.inArray(m.radixPoint,j.buffer);k=m.digitsOptional===!1&&i>l&&!a?{pos:i,remove:i}:{pos:i}}return k},cardinality:1,prevalidator:null},"+":{validator:function(l,i,h,a,k){var j=k.signHandler(l,i,h,a,k);return !j&&(a&&k.allowMinus&&l===k.negationSymbol.front||k.allowMinus&&"-"==l||k.allowPlus&&"+"==l)&&(j="-"==l?""!=k.negationSymbol.back?{pos:h,c:"-"===l?k.negationSymbol.front:"+",caret:h+1,insert:{pos:i.buffer.length,c:k.negationSymbol.back}}:{pos:h,c:"-"===l?k.negationSymbol.front:"+",caret:h+1}:!0),j},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(l,i,h,a,k){var j=k.signHandler(l,i,h,a,k);return !j&&a&&k.allowMinus&&l===k.negationSymbol.back&&(j=!0),j},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(n,j,i,a,l){var k=l.signHandler(n,j,i,a,l);if(!k){var m="["+b.inputmask.escapeRegex(l.radixPoint)+"]";k=new RegExp(m).test(n),k&&j.validPositions[i]&&j.validPositions[i].match.placeholder==l.radixPoint&&(k={caret:i+1})}return k},cardinality:1,prevalidator:null,placeholder:function(a){return a.radixPoint}}},insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,onUnMask:function(f,a,g){var h=f.replace(g.prefix,"");return h=h.replace(g.suffix,""),h=h.replace(new RegExp(b.inputmask.escapeRegex(g.groupSeparator),"g"),""),g.unmaskAsNumber?(h=h.replace(b.inputmask.escapeRegex.call(this,g.radixPoint),"."),Number(h)):h},isComplete:function(j,h){var g=j.join(""),a=j.slice();if(h.postFormat(a,0,!0,h),a.join("")!=g){return !1}var i=g.replace(h.prefix,"");return i=i.replace(h.suffix,""),i=i.replace(new RegExp(b.inputmask.escapeRegex(h.groupSeparator),"g"),""),","===h.radixPoint&&(i=i.replace(b.inputmask.escapeRegex(h.radixPoint),".")),isFinite(i)},onBeforeMask:function(h,g){if(""!=g.radixPoint&&isFinite(h)){h=h.toString().replace(".",g.radixPoint)}else{var a=h.match(/,/g),f=h.match(/\./g);f&&a?f.length>a.length?(h=h.replace(/\./g,""),h=h.replace(",",g.radixPoint)):a.length>f.length?(h=h.replace(/,/g,""),h=h.replace(".",g.radixPoint)):h=h.indexOf(".")<h.indexOf(",")?h.replace(/\./g,""):h=h.replace(/,/g,""):h=h.replace(new RegExp(b.inputmask.escapeRegex(g.groupSeparator),"g"),"")}return 0==g.digits&&(-1!=h.indexOf(".")?h=h.substring(0,h.indexOf(".")):-1!=h.indexOf(",")&&(h=h.substring(0,h.indexOf(",")))),h},canClearPosition:function(a,u,t,p,z){var r=a.validPositions[u].input,q=r!=z.radixPoint&&isFinite(r)||u==t||r==z.groupSeparator||r==z.negationSymbol.front||r==z.negationSymbol.back;if(q&&isFinite(r)){var y;if(!p&&a.buffer){y=a.buffer.join("").substr(0,u).match(z.regex.integerNPart(z));var s=u+1,A=null==y||0==parseInt(y[0].replace(new RegExp(b.inputmask.escapeRegex(z.groupSeparator),"g"),""));if(A){for(;a.validPositions[s]&&(a.validPositions[s].input==z.groupSeparator||"0"==a.validPositions[s].input);){delete a.validPositions[s],s++}}}var w=[];for(var x in a.validPositions){w.push(a.validPositions[x].input)}y=w.join("").match(z.regex.integerNPart(z));var v=b.inArray(z.radixPoint,a.buffer);if(y&&(-1==v||v>=u)){if(0==y[0].indexOf("0")){q=y.index!=u||-1==v}else{var B=parseInt(y[0].replace(new RegExp(b.inputmask.escapeRegex(z.groupSeparator),"g"),""));-1!=v&&10>B&&"0"==z.placeholder.charAt(0)&&(a.validPositions[u].input="0",a.p=z.prefix.length+1,q=!1)}}}return q}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),b.fn.inputmask});