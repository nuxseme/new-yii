module("utilities",{teardown:moduleTeardown});function testAttr(b){expect(9);var a;if(b){a=b.createElement("input");a.setAttribute("type","checkbox")}else{a=jQuery("<input type='checkbox' checked='checked' />")[0]}a.setAttribute("checked","checked");a.setAttribute("id","id");a.setAttribute("value","on");strictEqual(Sizzle.attr(a,"nonexistent"),null,"nonexistent");strictEqual(Sizzle.attr(a,"id"),"id","existent");strictEqual(Sizzle.attr(a,"value"),"on","value");strictEqual(Sizzle.attr(a,"checked"),"checked","boolean");strictEqual(Sizzle.attr(a,"href"),null,"interpolation risk");strictEqual(Sizzle.attr(a,"constructor"),null,'Object.prototype property "constructor" (negative)');strictEqual(Sizzle.attr(a,"watch"),null,'Gecko Object.prototype property "watch" (negative)');a.setAttribute("constructor","foo");a.setAttribute("watch","bar");strictEqual(Sizzle.attr(a,"constructor"),"foo",'Object.prototype property "constructor"');strictEqual(Sizzle.attr(a,"watch"),"bar",'Gecko Object.prototype property "watch"')}test("Sizzle.attr (HTML)",function(){testAttr()});test("Sizzle.attr (XML)",function(){testAttr(jQuery.parseXML("<root/>"))});test("Sizzle.contains",function(){expect(16);var a=document.getElementById("nonnodes"),c=a.firstChild,e=c.nextSibling,b=a.nextSibling,d=document.createElement("a");ok(c&&c.nodeType===1,"preliminary: found element");ok(e&&e.nodeType===3,"preliminary: found text");ok(b,"preliminary: found non-descendant");ok(Sizzle.contains(a,c),"child");ok(Sizzle.contains(a.parentNode,c),"grandchild");ok(Sizzle.contains(a,e),"text child");ok(Sizzle.contains(a.parentNode,e),"text grandchild");ok(!Sizzle.contains(a,a),"self");ok(!Sizzle.contains(c,a),"parent");ok(!Sizzle.contains(a,b),"non-descendant");ok(!Sizzle.contains(a,document),"document");ok(!Sizzle.contains(a,document.documentElement),"documentElement (negative)");ok(!Sizzle.contains(a,null),"Passing null does not throw an error");ok(Sizzle.contains(document,document.documentElement),"documentElement (positive)");ok(Sizzle.contains(document,c),"document container (positive)");ok(!Sizzle.contains(document,d),"document container (negative)")});if(jQuery("<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='1' width='1'><g/></svg>")[0].firstChild){test("Sizzle.contains in SVG (jQuery #10832)",function(){expect(4);var a=jQuery("<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='1' width='1'><g><circle cx='1' cy='1' r='1' /></g></svg>").appendTo("#qunit-fixture")[0];ok(Sizzle.contains(a,a.firstChild),"root child");ok(Sizzle.contains(a.firstChild,a.firstChild.firstChild),"element child");ok(Sizzle.contains(a,a.firstChild.firstChild),"root granchild");ok(!Sizzle.contains(a.firstChild.firstChild,a.firstChild),"parent (negative)")})}test("Sizzle.uniqueSort",function(){expect(14);function g(l){var m=this.length=l.length;while(m--){this[m]=l[m]}}g.prototype={slice:[].slice,sort:[].sort,splice:[].splice};var f,c,e=[],h=document.body,b=document.getElementById("qunit-fixture"),d=document.createElement("p"),a=document.createElement("ul"),j=d.appendChild(document.createElement("a")),k=j.appendChild(document.createElement("b"));for(f=0;f<12;f++){e.push(document.createElement("li"));e[f].id="detached"+f;a.appendChild(document.createElement("li")).id="detachedChild"+f}c={Empty:{input:[],expected:[]},"Single-element":{input:[b],expected:[b]},"No duplicates":{input:[b,h],expected:[h,b]},Duplicates:{input:[h,b,b,h],expected:[h,b]},Detached:{input:e.slice(0),expected:e.slice(0)},"Detached children":{input:[a.childNodes[0],a.childNodes[1],a.childNodes[2],a.childNodes[3]],expected:[a.childNodes[0],a.childNodes[1],a.childNodes[2],a.childNodes[3]]},"Attached/detached mixture":{input:[d,b,a,document,j,h,k],expected:[document,h,b],length:3}};jQuery.each(c,function(i,m){var l=m.length||m.input.length;deepEqual(Sizzle.uniqueSort(m.input).slice(0,l),m.expected,i+" (array)");deepEqual(Sizzle.uniqueSort(new g(m.input)).slice(0,l),m.expected,i+" (quasi-array)")})});testIframeWithCallback("Sizzle.uniqueSort works cross-window (jQuery #14381)","mixed_sort.html",deepEqual);