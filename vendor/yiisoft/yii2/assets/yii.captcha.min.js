(function(b){b.fn.yiiCaptcha=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{b.error("Method "+d+" does not exist on jQuery.yiiCaptcha");return false}}};var c={refreshUrl:undefined,hashKey:undefined};var a={init:function(d){return this.each(function(){var e=b(this);var f=b.extend({},c,d||{});e.data("yiiCaptcha",{settings:f});e.on("click.yiiCaptcha",function(){a.refresh.apply(e);return false})})},refresh:function(){var d=this,e=this.data("yiiCaptcha").settings;b.ajax({url:d.data("yiiCaptcha").settings.refreshUrl,dataType:"json",cache:false,success:function(f){d.attr("src",f.url);b("body").data(e.hashKey,[f.hash1,f.hash2])}})},destroy:function(){return this.each(function(){b(window).unbind(".yiiCaptcha");b(this).removeData("yiiCaptcha")})},data:function(){return this.data("yiiCaptcha")}}})(window.jQuery);